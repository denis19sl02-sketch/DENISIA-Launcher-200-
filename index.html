<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DENISIA Launcher | EMPIRE EDITION</title>
    <style>
        * { box-sizing: border-box; -webkit-user-select: none; user-select: none; cursor: crosshair; transform: translateZ(0); }
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; color: #00BFFF; font-family: 'Arial Black', sans-serif; overflow: hidden; touch-action: none; }
        #universe-bg { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: radial-gradient(circle at center, #001a33 0%, #000 85%); z-index: -10; }
        .star { position: absolute; background: #00BFFF; border-radius: 50%; animation: twinkle var(--d) infinite ease-in-out; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; transform: scale(1); } 50% { opacity: 0.8; transform: scale(1.3); } }
        .obj { position: fixed; z-index: -2; pointer-events: none; }
        .ball-3d { width: 60px; height: 60px; border-radius: 50%; box-shadow: 0 10px 20px rgba(0, 191, 255, 0.4); animation: bounce 3s ease-in-out infinite; }
        .blue-ball { background: radial-gradient(circle at 20px 20px, #00BFFF, #000); left: 15%; top: 10%; }
        .green-ball { background: radial-gradient(circle at 20px 20px, #00FF00, #000); right: 15%; top: 70%; animation-delay: 1.5s; box-shadow: 0 10px 20px rgba(0, 255, 0, 0.3); }
        @keyframes bounce { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-300px); } }
        .ufo { font-size: 50px; animation: flyLR 12s linear infinite; top: 20%; }
        .rocket { font-size: 40px; animation: flyDiagonal 7s linear infinite; }
        .unicorn { font-size: 45px; animation: flyRL 10s linear infinite; top: 40%; }
        @keyframes flyLR { from { left: -100px; } to { left: 110vw; } }
        @keyframes flyRL { from { right: -100px; } to { right: 110vw; } }
        @keyframes flyDiagonal { from { transform: translate(-10vw, 100vh) rotate(45deg); } to { transform: translate(110vw, -10vh) rotate(45deg); } }
        
        #lock-screen { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #000; color: #ff0000; display: none; flex-direction: column; align-items: center; justify-content: center; z-index: 1000000; text-align: center; }
        .btn-pay { display: block; background: #ff0000; color: #fff; padding: 20px 40px; text-decoration: none; font-size: 20px; font-weight: bold; margin-top: 20px; border: none; cursor: pointer; box-shadow: 0 0 15px red; }
        
        #main-launcher { display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; width: 100%; }
        .logo { font-size: 80px; text-shadow: 0 0 25px #00BFFF; margin: 0; }
        .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); gap: 15px; width: 90%; max-width: 900px; z-index: 10; margin-top: 30px; }
        .game-btn { background: rgba(0, 0, 0, 0.8); border: 2px solid #00BFFF; color: #00BFFF; padding: 20px; text-align: center; font-size: 14px; font-weight: bold; transition: 0.3s; backdrop-filter: blur(10px); cursor: pointer; }
        .game-btn:hover { background: #00BFFF; color: #000; transform: scale(1.05); }
        #lease-timer { position: fixed; bottom: 20px; width: 100%; text-align: center; font-size: 22px; color: #00FF00; letter-spacing: 5px; z-index: 20; text-shadow: 0 0 10px #00FF00; font-family: monospace; }
        .trail { position: fixed; width: 8px; height: 8px; background: #00BFFF; border-radius: 50%; pointer-events: none; z-index: 10000; animation: fade 0.5s forwards; }
        @keyframes fade { 0% { opacity: 1; transform: scale(1); } 100% { opacity: 0; transform: scale(3); } }
    </style>
</head>
<body oncontextmenu="return false;" onselectstart="return false;" ondragstart="return false;">

    <div id="universe-bg"></div>

    <div id="lock-screen">
        <h1 style="font-size:80px; text-shadow:0 0 20px red; margin:0;">LEASE EXPIRED</h1>
        <p id="station-id" style="color:#fff; font-size:18px;">SCANNING TERMINAL...</p>
        <div style="background:#111; border:2px solid red; padding:30px; margin:20px; width:85%; color:#00BFFF; font-size:18px;">
            <span style="color:red;">STRICT PAYMENT REQUIRED:</span> $200<br><br>
            WALLET: UQB0HK2LubFblnzTNWjuchU0CtFjEfFrlRXO23YkwVKaoyHQ
        </div>
        <button class="btn-pay" onclick="payNow()">PAY $200 VIA TON</button>
    </div>

    <div id="main-launcher">
        <div class="obj ball-3d blue-ball"></div><div class="obj ball-3d green-ball"></div> 
        <div class="obj ufo">üõ∏</div><div class="obj rocket">üöÄ</div><div class="obj unicorn">ü¶Ñ</div>
        <div class="logo">DENISIA</div>
        <div id="ip-display" style="font-size: 14px; opacity: 0.6;">EMPIRE SYNCING...</div>
        <div class="grid">
            <div onclick="location.href='https://denis19sl02-sketch.github.io/Funny-Balls-/'" class="game-btn">Funny Balls</div>
            <div onclick="location.href='https://denis19sl02-sketch.github.io/Aliens-/'" class="game-btn">Aliens</div>
            <div onclick="location.href='https://denis19sl02-sketch.github.io/Saving-The-Titanic/'" class="game-btn">Saving The Titanic</div>
            <div onclick="location.href='https://denis19sl02-sketch.github.io/Racing-Horses-/'" class="game-btn">Racing Horses</div>
            <div onclick="location.href='https://denis19sl02-sketch.github.io/Zombie-In-Forest-/'" class="game-btn">Dark Woods</div>
            <div onclick="location.href='https://denis19sl02-sketch.github.io/Funny-Balls-2/'" class="game-btn">Funny Balls 2</div>
            <div onclick="location.href='https://denis19sl02-sketch.github.io/DENISIAGRAM-/'" class="game-btn">DENISIAGRAM</div>
        </div>
        <div id="lease-timer">LEASE TIME LEFT: --d --h --m --s</div>
    </div>

    <script>
        const WALLET = "UQB0HK2LubFblnzTNWjuchU0CtFjEfFrlRXO23YkwVKaoyHQ";
        const THIRTY_DAYS_MS = 30 * 24 * 60 * 60 * 1000;
        let expiryTime = 0;
        let myIP = "";

        function payNow() { window.location.href = `https://ton.org/address/${WALLET}?amount=200000000000`; }

        async function initEmpire() {
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                myIP = data.ip.replace(/\./g, '-'); 
                document.getElementById('ip-display').innerText = `STATION: ${data.ip}`;
                document.getElementById('station-id').innerText = `TERMINAL ID: ${data.ip}`;
                
                const cloudRes = await fetch(`https://api.countapi.xyz/get/denisia_empire/${myIP}`).catch(() => null);
                
                if (cloudRes && cloudRes.ok) {
                    const cloudData = await cloudRes.json();
                    expiryTime = cloudData.value;
                } else {
                    expiryTime = Date.now() + THIRTY_DAYS_MS;
                    await fetch(`https://api.countapi.xyz/create?namespace=denisia_empire&key=${myIP}&value=${expiryTime}`);
                }
            } catch(e) {
                expiryTime = parseInt(localStorage.getItem('denisia_expiry')) || (Date.now() + THIRTY_DAYS_MS);
            }
            localStorage.setItem('denisia_expiry', expiryTime);
            startClock();
        }

        function startClock() {
            setInterval(async () => {
                const now = Date.now();
                const diff = expiryTime - now;

                if (diff <= 0) {
                    document.getElementById('main-launcher').style.display = 'none';
                    document.getElementById('lock-screen').style.display = 'flex';
                    if (now % 10000 < 1000) {
                        const check = await fetch(`https://api.countapi.xyz/get/denisia_empire/${myIP}`).then(r => r.json()).catch(() => null);
                        if (check && check.value > now) {
                            expiryTime = check.value;
                            location.reload();
                        }
                    }
                } else {
                    const days = Math.floor(diff / 86400000);
                    const hours = Math.floor((diff % 86400000) / 3600000);
                    const mins = Math.floor((diff % 3600000) / 60000);
                    const secs = Math.floor((diff % 60000) / 1000);
                    document.getElementById('lease-timer').innerText = 
                        `LEASE TIME LEFT: ${days}d ${hours.toString().padStart(2, '0')}h ${mins.toString().padStart(2, '0')}m ${secs.toString().padStart(2, '0')}s`;
                }
            }, 1000);
        }

        // –≠—Ñ—Ñ–µ–∫—Ç—ã
        const universe = document.getElementById('universe-bg');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.width = '2px'; star.style.height = '2px';
            star.style.left = Math.random() * 100 + '%'; star.style.top = Math.random() * 100 + '%';
            star.style.setProperty('--d', (Math.random() * 2 + 1) + 's');
            universe.appendChild(star);
        }
        document.addEventListener('mousemove', e => {
            const t = document.createElement('div');
            t.className = 'trail';
            t.style.left = e.pageX + 'px'; t.style.top = e.pageY + 'px';
            document.body.appendChild(t);
            setTimeout(() => t.remove(), 500);
        });

        // –ë–õ–û–ö–ò–†–û–í–ö–ê –ö–ù–û–ü–û–ö –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê
        document.addEventListener('keydown', function(e) {
            if(e.keyCode == 123) { e.preventDefault(); return false; }
            if(e.ctrlKey && e.shiftKey && (e.keyCode == 73 || e.keyCode == 74 || e.keyCode == 67)) { e.preventDefault(); return false; }
            if(e.ctrlKey && e.keyCode == 85) { e.preventDefault(); return false; }
            if(e.ctrlKey && e.keyCode == 83) { e.preventDefault(); return false; }
        });

        window.onload = initEmpire;
    </script>
</body>
</html>
